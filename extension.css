/*十周年样式＆手杀样式一＆一将成名样式*/
.player > .camp-wrap[data-camp="xing"] > .camp-back {
	background: linear-gradient(to bottom, rgb(78, 76, 62), rgb(48, 46, 36));
}
.player > .camp-wrap[data-camp="xinx"] > .camp-back {
	background: linear-gradient(to bottom, rgb(78, 76, 62), rgb(48, 46, 36));
}

/*手杀样式二*/
.player > .camp-wrap[data-camp="xing"] > .camp-name {
	text-shadow: 0 0 5px rgb(170, 170, 170), 0 0 10px rgb(118, 118, 118), 0 0 15px rgb(118, 118, 118);
}
.player > .camp-wrap[data-camp="xinx"] > .camp-name {
	text-shadow: 0 0 5px rgb(170, 170, 170), 0 0 10px rgb(118, 118, 118), 0 0 15px rgb(118, 118, 118);
}

/* 定义一道扫光动画 */
@keyframes sweep-light {
	0% {
		left: -100%;
	}
	100% {
		left: 200%;
	}
}
/* 给武将牌面板加上专属的特效类名 */
.xinxxinshi-awaken-effect {
	position: relative;
	overflow: hidden !important; /* 防止流光溢出牌面框 */
	/* box-shadow: 0 0 15px 5px rgba(255, 165, 0, 0.8); */
	 /* 外部金色呼吸边框 */
}
/* 利用伪元素制造一道斜着的半透明白光 */
.xinxxinshi-awaken-effect::after {
	content: "";
	position: absolute;
	top: 0;
	left: -100%;
	width: 50%;
	height: 100%;
	background: linear-gradient(to right, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0));
	transform: skewX(-25deg); /* 让光柱倾斜，更有动感 */
	animation: sweep-light 3s infinite linear; /* 3秒扫一次，无限循环 */
	pointer-events: none; /* 确保流光不会阻挡玩家点击武将牌 */
	z-index: 10;
}

/* =========================================
   武将牌特效：流星划过 (Meteor Strike)
========================================= */

/* 1. 主流星（更亮、更粗、拖尾更长） */
.meteor-avatar-effect::before {
    content: '';
    position: absolute;
    top: -60px; 
    right: -60px;
    width: 3px;   /* 【加粗】原本是 2px */
    height: 120px; /* 【拉长】拖尾从 80px 加长到 120px */
    background: linear-gradient(to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, 1) 100%);
    /* 【新增高亮发光】让流星在暗色背景下极其醒目 */
    box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.9); 
    transform: rotate(45deg);
    /* 【提高频率】循环时间从 3秒 缩短到 1.5秒 */
    animation: meteor-fall-slow 1.5s infinite linear;
    pointer-events: none;
    z-index: 10;
}

/* 2. 伴随流星（偏蓝、增加层次感） */
.meteor-avatar-effect::after {
    content: '';
    position: absolute;
    /* 改变出发点，让流星雨显得更宽广 */
    top: -100px;
    right: 10px; 
    width: 2px;    /* 【加粗】原本是 1px */
    height: 100px; /* 【拉长】原本是 60px */
    background: linear-gradient(to bottom, rgba(173, 216, 230, 0), rgba(173, 216, 230, 1) 100%);
    /* 【新增蓝色发光】 */
    box-shadow: 0 0 10px 2px rgba(173, 216, 230, 0.8);
    transform: rotate(45deg);
    /* 【提高频率】缩短到 2秒 */
    animation: meteor-fall-slow 2s infinite linear;
    /* 缩短交错时间，让两颗流星更密集 */
    animation-delay: 0.6s; 
    pointer-events: none;
    z-index: 10;
}

/* 3. 减慢下落速度的关键帧 */
@keyframes meteor-fall-slow {
    0% {
        transform: rotate(45deg) translate(0, 0);
        opacity: 1;
    }
    35% { 
        /* 【核心改动】：
           原本 15% 就划完了，现在延长到 35% 的时间才划完，
           下落速度直接变慢了一倍多，眼睛能清楚地看清轨迹！ */
        transform: rotate(45deg) translate(0, 300px);
        opacity: 0;
    }
    100% {
        transform: rotate(45deg) translate(0, 300px);
        opacity: 0;
    }
}



/* =========================================
   武将受击特效：像素风粉色魅惑爱心
========================================= */

/* 确保父节点允许特效溢出 */
.charm-infinity-effect {
    position: relative !important;
}

/* 像素爱心本体及发光 */
.charm-infinity-effect::after {
    content: '';
    position: absolute;
    /* 覆盖在武将头像正中间，稍微收一点边距让它不要太大 */
    top: 10%; left: 10%; right: 10%; bottom: 10%; 
    
    /* 【内联像素爱心 SVG】 */
    /* 用纯代码画一个 11x10 的马赛克爱心，不需要任何外部图片！ */
    /* fill='%23ffe6f2' 是极浅的粉白色（#ffe6f2），最适合当发光体的核心 */
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 11 10' shape-rendering='crispEdges'%3E%3Cpath fill='%23ffe6f2' d='M2 1h2v1H2z M7 1h2v1H7z M1 2h4v1H1z M6 2h4v1H6z M0 3h11v2H0z M1 5h9v1H1z M2 6h7v1H2z M3 7h5v1H3z M4 8h3v1H4z M5 9h1v1H5z'/%3E%3C/svg%3E");
    background-size: 80%; /* 调整爱心的基础大小 */
    background-position: center;
    background-repeat: no-repeat;
    
    /* 【像素风灵魂属性】：强制浏览器用最近邻插值算法，保证放大后是方块马赛克，绝不模糊 */
    image-rendering: pixelated;
    image-rendering: crisp-edges;
    
    /* 两层粉色投影，散发浓烈的魅惑粉光 */
    filter: drop-shadow(0 0 8px rgba(255, 20, 147, 0.9)) 
            drop-shadow(0 0 20px rgba(255, 105, 180, 0.8));
            
    /* 执行魅惑心跳动画，持续 2 秒 */
    animation: charm-heartbeat 2s ease-out forwards;
    
    /* 防误触 */
    pointer-events: none;
    z-index: 100;
}

/* 动画引擎：砰砰跳动的感觉 */
@keyframes charm-heartbeat {
    0% { transform: scale(0.2); opacity: 0; }
    15% { transform: scale(1.2); opacity: 1; filter: drop-shadow(0 0 10px #ff1493); }
    30% { transform: scale(0.9); opacity: 0.8; }
    45% { 
        /* 心跳高潮，光晕最亮，仿佛像素爱心在喷射能量 */
        transform: scale(1.1); 
        opacity: 1; 
        filter: drop-shadow(0 0 20px #ff1493) drop-shadow(0 0 40px #ff69b4) drop-shadow(0 0 60px #ff007f); 
    }
    80% { transform: scale(1); opacity: 0.9; }
    100% { 
        /* 最终放大消散 */
        transform: scale(1.5); 
        opacity: 0; 
        filter: drop-shadow(0 0 0px #ff1493); 
    }
}



/* =========================================
   武将常驻特效：显眼版水滴涟漪 (Water Ripple)
========================================= */

.water-ripple-effect {
    position: relative !important;
    /* 如果让波纹超出卡牌，就保持注释；想让它只在卡牌内部，就把下面这行开头的 /* 删掉 */
     overflow: hidden !important; 
}

/* 用两个伪元素制造两道连绵的涟漪 */
.water-ripple-effect::before,
.water-ripple-effect::after {
    content: '';
    position: absolute;
    width: 40px; 
    height: 40px;
    margin-top: -20px; 
    margin-left: -20px;
    
    border-radius: 50%; 
    
    border: 2px solid rgba(255, 255, 255, 1.0); /* 稍微调低了一点亮度，显得更柔和 */
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.8), inset 0 0 10px rgba(255, 255, 255, 0.8);
    
    pointer-events: none;
    z-index: 100; 
	opacity: 0;
}


/* 第一颗雨滴：9秒一轮，每轮在 3 个不同位置滴落 */
.water-ripple-effect::before {
    animation: random-drop-1 11s infinite; 
}

/* 第二颗雨滴：11秒一轮（质数错开，形成永不重复的混沌随机感） */
.water-ripple-effect::after {
    animation: random-drop-2 13s infinite;
    animation-delay: 4s; 
}

/* =========================================
   瞬移关键帧
========================================= */

@keyframes random-drop-1 {
    /* --- 第 1 滴落水：左上角 --- */
    0% {
        top: 25%; left: 30%; transform: scale(0.1); opacity: 1.0;
        /* 在扩散阶段套用缓慢的禅意曲线 */
        animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }
    15% { top: 25%; left: 30%; transform: scale(3.5); opacity: 0; }
    33.33% { top: 25%; left: 30%; transform: scale(3.5); opacity: 0; }

    /* --- 第 2 滴落水：右下角（在 33.34% 瞬间无缝瞬移） --- */
    33.34% {
        top: 75%; left: 65%; transform: scale(0.1); opacity: 1.0;
        animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }
    48.34% { top: 75%; left: 65%; transform: scale(3.5); opacity: 0; }
    66.66% { top: 75%; left: 65%; transform: scale(3.5); opacity: 0; }

    /* --- 第 3 滴落水：偏右侧 --- */
    66.67% {
        top: 40%; left: 80%; transform: scale(0.1); opacity: 1.0;
        animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }
    81.67% { top: 40%; left: 80%; transform: scale(3.5); opacity: 0; }
    100% { top: 40%; left: 80%; transform: scale(3.5); opacity: 0; }
}

@keyframes random-drop-2 {
    /* --- 第 A 滴落水：左下角 --- */
    0% {
        top: 80%; left: 20%; transform: scale(0.1); opacity: 1.0;
        animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }
    15% { top: 80%; left: 20%; transform: scale(3.5); opacity: 0; }
    33.33% { top: 80%; left: 20%; transform: scale(3.5); opacity: 0; }

    /* --- 第 B 滴落水：右上角 --- */
    33.34% {
        top: 30%; left: 70%; transform: scale(0.1); opacity: 1.0;
        animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }
    48.34% { top: 30%; left: 70%; transform: scale(3.5); opacity: 0; }
    66.66% { top: 30%; left: 70%; transform: scale(3.5); opacity: 0; }

    /* --- 第 C 滴落水：正中心偏下 --- */
    66.67% {
        top: 60%; left: 50%; transform: scale(0.1); opacity: 1.0;
        animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }
    81.67% { top: 60%; left: 50%; transform: scale(3.5); opacity: 0; }
    100% { top: 60%; left: 50%; transform: scale(3.5); opacity: 0; }
}


/* =========================================
   武将受击特效：全覆式·红莲业火  流萤火攻
========================================= */

.full-body-fire-effect {
    position: relative !important;
    overflow: hidden !important;
    /* 加深一点边缘的烙印感，让武将看起来像在火炉里 */
    box-shadow: inset 0 0 40px rgba(255, 30, 0, 0.5) !important;
}

/* --- 图层1：覆盖全身的红热底光 (高频暴躁闪烁) --- */
.full-body-fire-effect::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    
    background: radial-gradient(ellipse at 50% 80%, 
        rgba(255, 120, 0, 0.6) 0%, 
        rgba(255, 30, 0, 0.4) 50%, 
        transparent 100%);
        
    mix-blend-mode: overlay; 
    
    /* 换成有节奏的燃烧脉动，1.2秒一次呼吸，平滑过渡 */
    /* animation: fire-flicker 0.3s infinite alternate; */
	animation: fire-rhythmic-burn 1.2s infinite alternate ease-in-out;
    
    pointer-events: none;
    z-index: 10;
}

/* --- 图层2：向上窜腾的火舌湍流 (明显位移) --- */
.full-body-fire-effect::after {
    content: '';
    position: absolute;
    /* 这次不需要改变自身大小，我们让背景图片自己动 */
    top: 0; left: 0; right: 0; bottom: 0;
    
    /* 【动感强化2】：用两层不同的交错渐变，模拟不规则的火苗 */
    background-image: 
        /* 细碎的亮橙色火舌 */
        radial-gradient(ellipse at center, rgba(255, 150, 0, 0.5) 0%, transparent 50%),
        /* 大块的深红色热浪 */
        radial-gradient(circle at center, rgba(255, 50, 0, 0.4) 0%, transparent 60%);
        
    /* 把背景拉长，这样向上滚动时才有连绵不断的感觉 */
    background-size: 120% 200%, 150% 250%;
    
    /* 使用 color-dodge (颜色减淡)，这种模式遇到原画的亮部会像真正着火一样爆亮，暗部则保留细节 */
    mix-blend-mode: color-dodge;
    filter: blur(4px); /* 稍微降低模糊度，让火苗形状更清晰 */
    
    /* 【动感强化3】：背景坐标高速向上滚动 */
    animation: fire-tongue-rise 1.2s infinite linear;
    
    pointer-events: none;
    z-index: 11;
}

/* --- 动画关键帧 --- */

/* 火光暴躁闪烁 (不再是平滑呼吸，而是有顿挫感的跳动) */
/* @keyframes fire-flicker {
    0%   { opacity: 0.6; transform: scale(1); }
    25%  { opacity: 0.9; }
    50%  { opacity: 0.5; transform: scale(1.02); }
    75%  { opacity: 1.0; }
    100% { opacity: 0.7; transform: scale(1); }
} */
/* 规律的燃烧脉动 (像风箱吹火一样，有节奏地变亮、膨胀) */
@keyframes fire-rhythmic-burn {
    0% { 
        opacity: 0.5; 
        transform: scale(1); 
        filter: blur(8px) brightness(1); 
    }
    100% { 
        opacity: 0.9; 
        /* 燃烧高潮时，不仅变亮，光晕还会微微膨胀 */
        transform: scale(1.03); 
        filter: blur(8px) brightness(1.3); 
    }
}

/* 火舌极速上升 (通过修改背景坐标，形成源源不断往上冒的视觉流) */
@keyframes fire-tongue-rise {
    0% { 
        /* 背景初始位置在最底部 */
        background-position: 30% 150%, 70% 150%; 
    }
    100% { 
        /* 背景滚动到最顶部，形成极速上升的错觉 */
        background-position: 30% -50%, 70% -50%; 
    }
}


/* =========================================
   武将觉醒常驻特效：炎曜包裹 白厄入幻
========================================= */

.awakened-fire-aura {
    position: relative !important;
}

/* 只需要一个伪元素，盖在武将牌最上层 */
.awakened-fire-aura::after {
    content: '';
    position: absolute;
    /* 严格贴合武将牌的物理边界，绝不越界一像素 */
    top: 0; left: 0; right: 0; bottom: 0;
    
    /* 继承武将牌的圆角，彻底消灭方形黑边 */
    border-radius: inherit; 
    
    /* 给边缘加一条极细的高温亮边作为火源核心 */
    border: 1px solid rgba(255, 180, 0, 0.4);
    
    /* 背景必须全透明，保证武将原画中心清晰 */
    background: transparent;
    
    /* 鼠标穿透，不影响点击武将牌 */
    pointer-events: none;
    z-index: 10;
    /* 3秒一次的极致缓慢呼吸，取消所有物理形变 */
    animation: fire-wrap-breathe 3s infinite alternate ease-in-out;
}

/* 
   纯阴影呼吸动画  */
@keyframes fire-wrap-breathe {
    0% {
        box-shadow: 
            /* 1. 向外的暗红火光 (对应 100% 的第1层) */
            0 0 10px 2px rgba(220, 40, 0, 0.4),
            /* 2. 向外的补充火光 (对应 100% 的第2层，初始设为全透明 0) */
            0 0 10px 2px rgba(255, 40, 0, 0),
            
            /* 3. 向内的深红火光 (对应 100% 的第3层) */
            inset 0 0 15px 2px rgba(220, 20, 0, 0.5),
            /* 4. 向内的补充火光 (对应 100% 的第4层，初始设为全透明 0) */
            inset 0 0 15px 2px rgba(220, 20, 0, 0);
    }
    100% {
        /* 吸气：光晕明亮、饱满 (保持 4 层不变) */
        box-shadow: 
            /* 1. 向外的橙黄高光 */
            0 0 20px 5px rgba(255, 120, 0, 0.8),
            /* 2. 向外的大范围红光 */
            0 0 35px 8px rgba(255, 40, 0, 0.5),
            /* 3. 向内的刺眼火光 */
            inset 0 0 25px 4px rgba(255, 100, 0, 0.7),
            /* 4. 向内的大范围红光 */
            inset 0 0 40px 8px rgba(220, 20, 0, 0.5);
    }
}


